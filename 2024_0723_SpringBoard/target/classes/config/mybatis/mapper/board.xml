<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="board">

   <!-- 전체 조회 -->
   <select id="board_list" resultType="board">
   		select * from board order by b_ref desc, b_step asc
   </select>
   
   <!-- b_idx에 해당되는 게시물 1건 얻어오기 -->
   <select id="board_one" parameterType="int" resultType="vo.BoardVo">
   	select * from board where b_idx=#{b_idx}
   </select>
   
   <!-- 새글쓰기 -->
   <insert id="board_insert" parameterType="board">
   insert into board values(seq_board_idx.nextVal,
						 #{b_subject},
						 #{b_content},
						 #{b_ip},
						 sysdate,
						 0,
						 'y',
						 #{mem_idx},
						 #{mem_name},
						 seq_board_idx.currVal,
						 0,
						 0
						 )
   </insert>
   <!-- vo 안에 있는 정보 꺼내 쓴 것  -->
   
   
   
   <!-- 조회수 증가 -->
   <!-- 파라미터 b_idx -> int -->
   <!-- 반환 값은 없음 그냥 조회수가 오를뿐 => resultType은 없다 -->
   <update id="board_update_readhit" parameterType="int">
   	update board set b_readhit = b_readhit+1 where b_idx=#{b_idx}
   </update>
   
   
   
</mapper>












